<!doctype html> 
<head>
    <title>Canvas Tutorial</title>
</head>
<body>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
<script>
    var canvas , canvasContext;
    
    window.onload = function(){
        canvas = document.getElementById('gameCanvas');
        canvasContext = canvas.getContext('2d');
        
        document.addEventListener('keydown', keyPressed)
        document.addEventListener('keyup', keyReleased)
        
        setInterval(mainloop, 1000/50);
    }
    var LeftArrow = 0;
    var KeyPress = 0;
    var playerXpos = 0;
    var playerYpos = 0;
    var playerXspeed = 5;
    var playerYspeed = 4;
    const PLAYER_SIZE = 20;
    
    var upKeyPress = false;
    
    const UP_KEY = 38;
    
    
    function mainloop(){
        colorRect(0,0,canvas.width,canvas.height, 'black');
        colorRect(playerXpos,playerYpos,PLAYER_SIZE,PLAYER_SIZE,'red');
        
        playerMove();
    }
    
    
    function keyPressed(evt){
        if(evt.Code == UP_KEY && playerYpos > 0){
            upKeyPress = true;
        }
        
    }
    
    function keyReleased(evt){
            if(evt.Code == UP_KEY){
            upKeyPress = false;
        }
    }
    
    
    
    function colorRect(x,y,w,h,c){
        canvasContext.fillStyle = c;
        canvasContext.fillRect(x,y,w,h);
    }
    
    function playerMove(){
       if(upKeyPress){
           playerYpos -= playerYspeed
       }
    }
    

    
    
    </script>
</body>